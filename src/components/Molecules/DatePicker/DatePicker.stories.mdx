import { Meta } from '@storybook/addon-docs';

<Meta title="COMPONENTS/Molecules/DatePicker/Docs" />

### شماره تسک در جیرا:

### توضیحات:
کامپوننت تقویم با پکیچ https://github.com/shahabyazdi/react-multi-date-picker توسعه داده شده است، شما میتوانید بدون نیاز به خواندن داکیومنت پکیج و فقط با مطالعه همین داکیومنت از کامپوننت استفاده کنید مگر مواقعی که بخواهید کامپوننت را به صورت کاستوم استفاده کنید.

پراپرتی های زیادی در این پکیچ موجود میباشد که ما پراپ های های مورد نیاز خود را به صورت داکیومنت شده آماده کرده ایم.

#### توضیحات:

در حالت چند تایی یا دامنه، 'فقط انتخابگر زمان' غیر فعال میشود.
اولین روز هفته زمانی که مقدار انتخابگر های دیگر برابر با فقط انتخابگر زمان، فقط گرفتن ماه یا فقط گرفتن سال هست غیر فعال میباشد.


### props ها و قابلیت ها:

- **value**
مقدار اولیه تاریخ میتونه از جنس Date , DateObject , Number و یا String باشه ولی به محض انتخاب تاریخ جدید توسط کاربر ، Type آن به DateObject تغییر میکند.

- **onChange**
مقدار بازگشتی تغییر تاریخ

- **name**
به اینپونت attribute name اضافه میشود.

- **multiple**
از جنس boolean و به صورت پیش فرض false است، فقط یادتون باشه که در حالت multiple و در متد onChange به جای یک date خاص ، آرایه ای از زمان ها رو دریافت میکنید، اگر هم میخواید مقادیری رو از قبل تعریف کنید اونهارو داخل آرایه قرار بدید

- **locale**
تقویم به صورت پیش فرض روی تقویم هجری شمسی با زبان فارسی قرار دارد، برای تغییر به زبان انگلیسی و تقویم میلادی مقدار locale="en" را ست کنید.

- **range**
برای استفاده از حالت range هم باید مقدار value تون آرایه باشه . حالا میتونه این آرایه خالی باشه یعنی [] باشه که در این صورت هیچ دامنه ی تاریخی در دیتپیکرتون نشون داده نمیشه تا خود کاربر یکی رو انتخاب کنه، یا میتونید خودتون یک مقدار رو به عنوان مقدار اولیه تعریف کنید. فقط نکته ای که باید در هنگام مشخص کردن مقدار اولیه در نظر بگیریید اینه که در حالت range آرایه شما باید یک یا دو تا تاریخ داشته باشه و اگه از دوتا بیشتر باشه فقط تاریخ اول و آخر موجود در اون آرایه در نظر گرفته میشوند.

- **timePicker**  انتخاب گر زمان به صورت پیش فرض غیر فعال است.

- **minDate**
همانند مقدار اولیه، مقدار حداقل یا حداکثر هم میتونه از جنس Date , DateObject , Number و یا String باشه. فقط باید این نکته رو در نظر بگیرید که Date تاریخ میلادی رو تولید میکنه و اگه از دیت پیکر با تقویم شمسی استفاده میکنید، بهتره با دیت آبجکت تاریخ شمسی رو تولید کنید.

- **maxDate**
برای محدود کردن دریافت زمان مقدار حداکثر رو داخل پراپرتی maxDate قرار بدید.

- **onOpen**
اگر شرط خاصی را برای باز شدن یا بسته شدن تقویم در نظر دارید ، میتوانید از event های onOpen و onClose استفاده کنید.اگر در onOpen مقدار false را برگردانید ، تقویم باز نمیشود

- **onClose**
اگر در onClose مقدار false را برگردانید ، تقویم بسته نمیشود

- **onPositionChange**
هروقت که دوباره محاسبات موقعیت تقویم انجام شود، فانکشن onChange در المنت-پاپر اجرا میشود .فانکشن ای که در onPositionChange وارد میکنید در مواقع scroll ، resize ، باز شدن تقویم ، یا زمانی که refreshPosition را از ref دیت پیکر اجرا کنید ، اجرا میشود. در فانکشن opPositionChange یک object به عنوان argument ارسال میشود که در آن موقعیت های محاسبه شده popper (تقویم) و arrow و همچنین المنت های والد دیت پیکر که قابل اسکرول شدن هستند قرار دارد. در این مثال ابجکت نام برده شده در console لاگ میشود و شما میتوانید با باز کردن کنسول مرورگر خود (Ctrl + Shift + i در مرورگر کروم)، ان را مشاهده کنید .

- **onPropsChange**
این قابلیت برای پلاگین ها مناسب میباشد. زیرا برای بعضی از آنها تنظیم پراپرتی های دیتپیکر (کامپوننت والد) از پلاگین (کامپونند فرزند) اجتناب ناپذیر است.

- **onfocuseddatechange**
:ویژگی onFocusedDateChange یک فانکشن را دریافت می کند و آن را با دو آرگومان فراخوانی می کند (آرگومان اول dateFocused و آرگومان دوم dateClicked) ، که می تواند توسط خود تقویم یا هر پلاگین دیگری فراخوانی شود. تفاوت زمانی که onFocusedDateChange توسط خود تقویم فراخوانی می شود و هنگامی که توسط یکی از افزونه ها فراخوانی می شود این است که در حالت اول، آرگومان دوم (یعنی dateClicked) همیشه وجود دارد و در حالت دوم، آرگومان دوم همیشه تعریف نشده است.برای اطلاعات بیشتر به داکومنت مربوطه مراجعه کنید.

### شیوه ی استفاده از  Calendar :
شما بتونید از کامپوننت با یا بدون استیت استفاده کنید

در مواقعی که مقدار اولیه ای ندارید یا میخواید تاریخ یا تاریخ های انتخاب شده کاربر رو بدون اعمال تغییرات سابمیت کنید، میتونید این کامپوننت رو بدون استیت اضافه استفاده کنید

```jsx
<Calendar />
```
اما اگر میخواید تاریخ اولیه ای رو برای دیت پیکر یا تقویم تعریف کنید یا میخواید تغییراتی رو به تاریخ های انتخاب شده کاربر اعمال کنید، باید از یک استیت برای نگهداری تاریخ ها استفاده کنید

```jsx
let [value, setValue] = useState(initialValue)
<Calendar
  value={value}
  onChange={handleChange}
/>

function handleChange(value){
  //تغییرات روی تاریخ رو اینجا اعمال کنید
  setValue(value)
}
```
مقدار اولیه تاریخ میتونه از جنس Date ،DateObject ،Number و یا String باشه ولی به محض انتخاب تاریخ جدید توسط کاربر، Type آن به DateObject تغییر میکنه.

بنابراین اگر در هنگام سابمیت فرم خود میخواید تاریخ انتخاب شده ی کاربر رو به Date جاوااسکریپت تبدیل کنید، میتونید خیلی راحت از متد ()toDate استفاده کنید.

نکته ای که باید در استفاده از متد toDate بگم اینه که اگر شما مقدار اولیه ای از جنس غیر از دیت آبجکت تعریف کرده باشید و سابمیت فرمتون موقعی انجام شه که کاربر به دلایلی تاریخ جدیدی رو انتخاب نکرده باشه ، پس مقدار اولیه شما هم به دیت آبجکت تبدیل نشده:

اگر مقداری که به دیتپیکر یا تقویم وارد میکنید از جنس استرینگ است و فرمت آن استرینگ با فرمت پیشفرض (YYYY/MM/DD hh:mm:ss a) متفاوت میباشد، باید فرمت آن استرینگ با فرمتی که به دیت پیکر وارد کرده اید همخوانی داشته باشد . در غیر این صورت آن تاریخ اشتباه پارس میشود.


برای مثال اگر ۰۵/۱۸/۲۰۲۰ ۰۲:۲۰:۳۶ را به عنوان مقدار در نظر گرفته ید، باید فرمتی که به دیتپیکر یا تقویم وارد میکنید هم به این صورت باشد : MM/DD/YYYY HH:mm:ss

```jsx
<DatePicker
  value="۰۵/۱۸/۲۰۲۰ ۰۲:۲۰:۳۶"
  format="MM/DD/YYYY HH:mm:ss"
/>
```
